=head1 NAME

tai64nfrac - Convert TAI64N timestamps to decimal seconds since epoch

=head1 SYNOPSIS

tai64nfrac < I<input> > I<output>

=head1 DESCRIPTION

Given data with TAI64N timestamps at the beginning of each line as input
(such as data generated by multilog), B<tai64nfrac> will convert those
times to seconds since epoch (with a fractional part) and otherwise output
the same data.  It's intended to be used as a filter that changes the
timestamp format at the beginning of each line.

B<tai64nfrac> is primarily intended to support using qmailanalog to
analyze qmail logs that are being written by multilog rather than to
syslog via splogger.

=head1 BUGS

B<tai64nfrac> makes no attempt to handle leap seconds or to handle TAI to
UTC conversion correctly.  It was written with hard-coded adjustments for
systems where the system clock is in UTC and no leap seconds file is
present.  In that situation, software generating TAI64N timestamps will
generate timestamps with an epoch 10 seconds different than UTC, which
B<tai64nfrac> adjusts for.

This is obviously not the correct approach, which would be to use the code
and algorithms in libtai.  It was just the expedient thing to do for my
immediate problem.

=head1 SEE ALSO

See L<http://cr.yp.to/daemontools/tai64nlocal.html> for documentation of
B<tai64nlocal>, which converts TAI64N timestamps to human-readable times
in the local time zone.

See L<http://cr.yp.to/qmailanalog.html> for qmailanalog.

The current version of this program is available from its web page at
L<http://www.eyrie.org/~eagle/software/tai64nfrac/>.

=head1 AUTHOR

Russ Allbery <rra@stanford.edu>

=head1 LICENSE

This program is in the public domain.  If it is not legal or possible to
place a work in the public domain in your jurisdiction, then I hereby
grant you a license to treat this program in every way as if it were in
the public domain.

=cut
